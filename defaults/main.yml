---

hardenwebserver_apache_modsecurity_engine: 'DetectionOnly'
#hardenwebserver_apache_modsecurity_engine: 'On'

## if you want to disable http.
## Note: http is required to validate letsencrypt challenge directly
hardenwebserver_disable_http: false
## set to true if your https config is coming from another role
##  in this case role 'https' config will be installed but not enabled
hardenwebserver_https_noconfig: false
hardenwebserver_remove_defaultindex: false

## curl, wget, perl...
hardenwebserver_block_downloadagents: false
hardenwebserver_cachecontrol: false

## if defined/not empty, restrict webserver listen interface
## FIXME! only support one interface
#hardenwebserver_bind: 192.168.1.1
hardenwebserver_bind: ''

hardenwebserver_cert: selfsigned
hardenwebserver_certinfo: '/C=US/ST=CA/L=San Francisco/O=Ansible'
hardenwebserver_certduration: 1095
## Ansible v2.2 module. will use hostname fqdn
#hardenwebserver_cert: letsencrypt
# path on orchestrator, if empty will be created
hardenwebserver_letsencrypt_user_key: ''
## staging or production url
hardenwebserver_letsencrypt_acme_dir: 'https://acme-staging.api.letsencrypt.org/directory'
#hardenwebserver_letsencrypt_acme_dir: 'https://acme-v01.api.letsencrypt.org/directory'
hardenwebserver_enable_defaultssl: true

## not recommended/supported for letsencrypt
hardenwebserver_cert_pinning: false

## https://content-security-policy.com/
## https://githubengineering.com/githubs-post-csp-journey/
## https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy
#hardenwebserver_header_csp: "default-src self"
## this settings is necessary for default ubuntu or centos page
hardenwebserver_header_csp: "default-src 'self'; script-src 'self' 'unsafe-inline'; connect-src 'self'; img-src 'self'; style-src 'self' 'unsafe-inline'; object-src 'self'; upgrade-insecure-requests;"
#hardenwebserver_header_csp: "default-src 'none'; script-src 'self www.google-analytics.com ajax.googleapis.com'; connect-src 'self'; img-src 'self'; style-src 'self';"
#hardenwebserver_header_csp: "default-src 'none'; script-src 'self www.google-analytics.com ajax.googleapis.com'; connect-src 'self'; img-src 'self'; style-src 'self'; report-uri https://xxxx.report-uri.io/r/default/csp/enforce"
#hardenwebserver_header_csp: "default-src 'none'; script-src 'self www.google-analytics.com ajax.googleapis.com'; connect-src 'self'; img-src 'self'; style-src 'self'; report-uri-report-only https://xxxx.report-uri.io/r/default/csp/reportOnly"

## https://scotthelme.co.uk/a-new-security-header-referrer-policy/
harden_webserver_header_refpolicy: strict-origin-when-cross-origin
#harden_webserver_header_refpolicy: no-referrer-when-downgrade

## https://cipherli.st/
## https://wiki.mozilla.org/Security/Server_Side_TLS
## https://wiki.mozilla.org/Security/TLS_Configurations
## https://raymii.org/s/tutorials/Strong_SSL_Security_On_Apache2.html
## https://openweb.eu.org/articles/https-de-ssl-a-tls-1-3
## https://www.ssi.gouv.fr/uploads/2017/02/security-recommendations-for-tls_v1.1.pdf
## https://bettercrypto.org/static/applied-crypto-hardening.pdf
harden_apache_sslciphersuite: 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH'
harden_apache_sslprotocol: 'All -SSLv2 -SSLv3 -TLSv1'

# https://www.ietf.org/id/draft-foudil-securitytxt-00.txt
harden_apache_securitytxt_template: security.txt.j2
